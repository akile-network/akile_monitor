services:

  akile_monitor_server:
    image: niliaerith/akile_monitor_server
    container_name: akile_monitor_server
    hostname: akile_monitor_server
    restart: always
    ports:
      - 3000:3000 #主控服务端 端口
    volumes:
      - /CHANGE_PATH/akile_monitor/server/config.json:/app/config.json 
      - /CHANGE_PATH/akile_monitor/server/ak_monitor.db:/app/ak_monitor.db
      - /CHANGE_PATH/akile_monitor/caddy/config.json:/usr/share/caddy/config.json
    environment:
      TZ: "Asia/Shanghai"

  akile_monitor_fe:
    image: niliaerith/akile_monitor_fe
    container_name: akile_monitor_fe
    hostname: akile_monitor_fe
    restart: always
    ports:
      - 80:80 #前端 端口
    volumes:
      - /CHANGE_PATH/akile_monitor/caddy/config.json:/usr/share/caddy/config.json
    environment:
      TZ: "Asia/Shanghai"

  akile_monitor_client:
    image: niliaerith/akile_monitor_client
    container_name: akile_monitor_client
    hostname: akile_monitor_client
    restart: always
    network_mode: host
    volumes:
      - /CHANGE_PATH/akile_monitor/client/client.json:/app/client.json
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      TZ: "Asia/Shanghai"
      auth_secret: "59deb879-f735-41b9-85ea-a80c26dcce5b8273c215-ab97-4a3e-b7d6-1cbd2afcd2d4"
      url: "ws://oracle.oni.li/monitor"
      net_name: "eth0"
      name: "US VKVM"

